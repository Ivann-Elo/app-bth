{% extends 'base.html.twig' %}

{% block title %}Tableau de bord{% endblock %}

{% block body %} 
    <main class="container-fluid">
        <div class="row">
            <!-- Début de la colonne de gauche -->
            {% include "partials/sidebar/sidebar.html.twig" %}
            <!-- Fin de la colonne de gauche -->
            
            <!-- Début de la colonne de droite -->
            <div class="col-lg-9 py-3 offset-lg-3">
                <h1 class="text-center">{{ titrePage }}</h1>
                {% include "partials/liste_inter.html.twig" %} 
                <span>Mes clients</span>
                <div class="bg-white rounded-2 px-2 py-3 mt-1 overflow-auto ">
                    <div>
                        <!-- Recherche Filtre tableau-->
                    </div> 
                    <div class="overflow-auto" style="max-height: 50vh">
                        <!-- Mon tableau -->
                        {% for client in Clients %}
                        {% if client.nom != "Null" and client.nom != "null" %} 
                            {% set valuesNom = client.nom %}
                        {% else %}
                                {% set valuesNom = "_" %}
                        {% endif %}    
                        {% if client.prenom != "Null" and client.prenom != "null" %} 
                            {% set valuesPrenom = client.prenom %}
                        {% else %}
                                {% set valuesPrenom = "_" %}
                        {% endif %}    
                          
                        <a href="{{ path('app_client', {'id': client.id}) }}" class="text-decoration-none text-black ">
                            <div class="lign_inter border border-solid rounded-2 p-2 my-2">
                                <div class="d-flex justify-content-between">
                                    {% if valuesPrenom == "_" and valuesNom == "_" %}
                                         <span><strong class='me-1'>Entreprise</strong>{{client.ent}}</span>
                                    {% else %}
                                    <span><strong class='me-1'>{{client.civilite}}</strong><strong class='me-1'>{{valuesNom}}</strong>{{valuesPrenom}}</span>
                                    {% endif %}
                                    <span class="d-none d-md-block ">{{client.villeClient}}</span>
                                </div>
                            </div>
                        </a>
                        {% endfor %}
                        <!-- Fin de Mon tableau-->
                    </div>
                </div>
            </div>
            <!-- Fin de la colonne de droite -->
        </div>
    </main>    
{% endblock %}
